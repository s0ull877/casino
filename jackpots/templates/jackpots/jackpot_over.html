{% extends "users/base.html" %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'casino/assets/jekpot_game.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock css %}


{% block content %}
    <!-- <header>
        <div class="header_position"> -->
            <div class="status_bar">
                <a href="jekpot.html" class="no_hook">
                    <div class="back_button">
                        <svg width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M-1.74847e-07 3.99998L3.79169 7.76571C3.86648 7.83999 3.95527 7.89891 4.05298 7.93911C4.1507 7.97931 4.25544 8 4.36121 8C4.46697 8 4.57171 7.97931 4.66943 7.93911C4.76714 7.89891 4.85593 7.83999 4.93072 7.76571C5.00551 7.69143 5.06484 7.60325 5.10532 7.5062C5.14579 7.40915 5.16663 7.30514 5.16663 7.20009C5.16663 7.09505 5.14579 6.99103 5.10532 6.89398C5.06484 6.79693 5.00551 6.70875 4.93072 6.63447L3.08361 4.8L9.19446 4.8C9.4081 4.8 9.61299 4.71571 9.76406 4.56568C9.91513 4.41565 10 4.21216 10 3.99997C10 3.78779 9.91513 3.5843 9.76406 3.43427C9.61299 3.28423 9.4081 3.19995 9.19446 3.19995L3.08361 3.19995L4.93072 1.36548C5.00579 1.29135 5.06536 1.20322 5.10601 1.10615C5.14665 1.00908 5.16758 0.904989 5.16758 0.799858C5.16758 0.694728 5.14665 0.590635 5.10601 0.493565C5.06536 0.396495 5.00579 0.308362 4.93072 0.234237C4.77966 0.084255 4.57481 2.76866e-07 4.3612 2.86203e-07C4.1476 2.9554e-07 3.94275 0.084255 3.79169 0.234237L-1.74847e-07 3.99998Z" fill="#707385"/>
                        </svg>            
                        <p>Джекпот, <span id="members_count" class="people_to_game">{{bets.count}}</span> участников</p>
                    </div>
                </a>
                <!-- <a href="/" class="no_hook" onclick="show()"> -->
                    <div class="create_game">
                        <p>Окончание: <span>Закончен</span></p>
                    </div>
                <!-- </a> -->
            </div>
        <!-- </div> -->
    <!-- </header> -->
    <div class="position_class">
        <div class="background_games">
            <div class="background_list">
                <div class="games_list">
                    <div class="type_game auction_content">
                        <div class="auction_content_about">
                            <p class="title_type_game">Джекпот №1</p>
                            <p class="quantity">Общий банк $<span>{{jackpot.common_bank}}</span></p>
                        </div>
                        <div class="auction_iamge">
                            <svg width="143" height="136" viewBox="0 0 143 136" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g opacity="0.64" filter="url(#filter0_f_126_87)">
                                <g filter="url(#filter1_ii_126_87)">
                                <path d="M42.4716 64.0733L41.0704 58.9352L12.5054 64.9489L11.8432 64.9849L10.5369 65.3879L12.5298 72.2387L3.29968 72.7544L2.44144 72.9768L1.99333 73.1575L2.54922 74.9605L4.54569 82.2814C6.26151 88.5731 12.3835 92.4532 18.6862 91.6285C20.2518 93.9394 22.4135 95.7846 24.943 96.9693C27.4724 98.154 30.2756 98.6341 33.0567 98.3591L33.7973 101.075C34.1578 102.397 33.9777 103.808 33.2967 104.998C32.6157 106.187 31.4896 107.059 30.1661 107.42L27.671 108.1L29.03 113.084L48.9912 107.64L47.6321 102.656L45.137 103.337C43.8135 103.698 42.401 103.519 41.2103 102.84C40.0195 102.16 39.1481 101.036 38.7876 99.7142L38.0469 96.9982C40.5826 95.8233 42.754 93.9865 44.3318 91.6818C45.9096 89.377 46.8353 86.6898 47.0111 83.9041C52.8598 81.4149 56.1935 73.6804 54.4777 67.3886L52.4522 61.3515L42.4716 64.0733ZM9.53598 80.9205L8.89858 78.5832L13.8889 77.2223L16.448 86.6063C14.8482 86.489 13.3246 85.8793 12.0867 84.861C10.8489 83.8428 9.95772 82.4661 9.53598 80.9205ZM49.4584 70.0332C49.8764 71.5794 49.8061 73.2171 49.2569 74.7225C48.7078 76.2278 47.7067 77.5274 46.3905 78.4434L43.8307 69.0569L48.821 67.6959L49.4584 70.0332Z" fill="url(#paint0_radial_126_87)"/>
                                <path d="M42.4716 64.0733L41.0704 58.9352L12.5054 64.9489L11.8432 64.9849L10.5369 65.3879L12.5298 72.2387L3.29968 72.7544L2.44144 72.9768L1.99333 73.1575L2.54922 74.9605L4.54569 82.2814C6.26151 88.5731 12.3835 92.4532 18.6862 91.6285C20.2518 93.9394 22.4135 95.7846 24.943 96.9693C27.4724 98.154 30.2756 98.6341 33.0567 98.3591L33.7973 101.075C34.1578 102.397 33.9777 103.808 33.2967 104.998C32.6157 106.187 31.4896 107.059 30.1661 107.42L27.671 108.1L29.03 113.084L48.9912 107.64L47.6321 102.656L45.137 103.337C43.8135 103.698 42.401 103.519 41.2103 102.84C40.0195 102.16 39.1481 101.036 38.7876 99.7142L38.0469 96.9982C40.5826 95.8233 42.754 93.9865 44.3318 91.6818C45.9096 89.377 46.8353 86.6898 47.0111 83.9041C52.8598 81.4149 56.1935 73.6804 54.4777 67.3886L52.4522 61.3515L42.4716 64.0733ZM9.53598 80.9205L8.89858 78.5832L13.8889 77.2223L16.448 86.6063C14.8482 86.489 13.3246 85.8793 12.0867 84.861C10.8489 83.8428 9.95772 82.4661 9.53598 80.9205ZM49.4584 70.0332C49.8764 71.5794 49.8061 73.2171 49.2569 74.7225C48.7078 76.2278 47.7067 77.5274 46.3905 78.4434L43.8307 69.0569L48.821 67.6959L49.4584 70.0332Z" fill="url(#paint1_linear_126_87)" fill-opacity="0.4" style="mix-blend-mode:overlay"/>
                                </g>
                                <path d="M42.3679 64.1016L42.3962 64.2053L42.4999 64.177L52.3826 61.4819L54.3748 67.4199C55.2243 70.538 54.8238 74.0178 53.4829 77.0286C52.1415 80.0405 49.8634 82.5734 46.969 83.8052L46.908 83.8311L46.9038 83.8973C46.7293 86.6637 45.81 89.3323 44.2431 91.621C42.6762 93.9098 40.5199 95.7339 38.0018 96.9006L37.9194 96.9388L37.9433 97.0264L38.6839 99.7425C39.0519 101.092 39.9415 102.239 41.157 102.933C42.3725 103.626 43.8143 103.809 45.1653 103.441L47.5567 102.788L48.8592 107.565L29.1054 112.952L27.8029 108.175L30.1944 107.523C31.5454 107.155 32.6949 106.266 33.39 105.051C34.0852 103.836 34.269 102.396 33.901 101.047L33.1603 98.3308L33.1365 98.2432L33.0461 98.2521C30.2843 98.5253 27.5005 98.0484 24.9886 96.872C22.4767 95.6955 20.3299 93.8631 18.7751 91.5683L18.738 91.5134L18.6722 91.522C12.4212 92.3399 6.35062 88.4914 4.64938 82.2531L2.65291 74.9322L2.65297 74.9322L2.65193 74.9288L2.12514 73.2202L2.47515 73.0791L3.31632 72.8611L12.5358 72.346L12.6708 72.3385L12.633 72.2087L10.6696 65.4595L11.8623 65.0915L12.5112 65.0562L12.5194 65.0558L12.5275 65.0541L40.9934 59.0613L42.3679 64.1016ZM9.43229 80.9487L9.43229 80.9487C9.8599 82.5158 10.7634 83.9117 12.0184 84.944C13.2734 85.9764 14.8182 86.5946 16.4401 86.7135L16.5917 86.7246L16.5517 86.578L13.9926 77.194L13.9643 77.0903L13.8606 77.1186L8.8703 78.4795L8.76661 78.5078L8.79489 78.6114L9.43229 80.9487ZM49.5621 70.0052L49.562 70.005L48.9246 67.6677L48.8964 67.564L48.7927 67.5923L43.8024 68.9532L43.6987 68.9814L43.727 69.0851L46.2868 78.4717L46.3268 78.6186L46.4518 78.5316C47.7862 77.603 48.8012 76.2855 49.3579 74.7593C49.9146 73.2331 49.986 71.5727 49.5621 70.0052Z" stroke="url(#paint2_linear_126_87)" stroke-width="0.214956" style="mix-blend-mode:overlay"/>
                                <g filter="url(#filter2_ii_126_87)">
                                <path d="M42.3638 62.0868L40.9627 56.9488L11.0209 65.1142L12.4221 70.2522L2.44148 72.974L4.43795 80.2949C6.15377 86.5866 12.2758 90.4667 18.5784 89.6421C20.1441 91.953 22.3058 93.7982 24.8352 94.9828C27.3647 96.1675 30.1679 96.6477 32.9489 96.3726L33.6896 99.0886C34.0501 100.41 33.87 101.821 33.189 103.011C32.508 104.201 31.3819 105.072 30.0584 105.433L27.5632 106.114L28.9223 111.097L48.8835 105.654L47.5244 100.67L45.0293 101.35C43.7058 101.711 42.2933 101.532 41.1025 100.853C39.9118 100.174 39.0403 99.0495 38.6799 97.7277L37.9392 95.0117C40.4748 93.8369 42.6462 92.0001 44.2241 89.6953C45.8019 87.3905 46.7276 84.7034 46.9033 81.9176C52.7521 79.4285 56.0567 72.9776 54.3409 66.6859L52.3444 59.365L42.3638 62.0868ZM9.42824 78.934L8.79084 76.5967L13.7811 75.2358L16.3403 84.6199C14.7405 84.5026 13.2168 83.8928 11.979 82.8746C10.7411 81.8563 9.84998 80.4796 9.42824 78.934ZM49.3506 68.0468C49.7687 69.5929 49.6983 71.2307 49.1492 72.736C48.6001 74.2414 47.5989 75.5409 46.2827 76.4569L43.7229 67.0704L48.7132 65.7095L49.3506 68.0468Z" fill="url(#paint3_radial_126_87)"/>
                                <path d="M42.3638 62.0868L40.9627 56.9488L11.0209 65.1142L12.4221 70.2522L2.44148 72.974L4.43795 80.2949C6.15377 86.5866 12.2758 90.4667 18.5784 89.6421C20.1441 91.953 22.3058 93.7982 24.8352 94.9828C27.3647 96.1675 30.1679 96.6477 32.9489 96.3726L33.6896 99.0886C34.0501 100.41 33.87 101.821 33.189 103.011C32.508 104.201 31.3819 105.072 30.0584 105.433L27.5632 106.114L28.9223 111.097L48.8835 105.654L47.5244 100.67L45.0293 101.35C43.7058 101.711 42.2933 101.532 41.1025 100.853C39.9118 100.174 39.0403 99.0495 38.6799 97.7277L37.9392 95.0117C40.4748 93.8369 42.6462 92.0001 44.2241 89.6953C45.8019 87.3905 46.7276 84.7034 46.9033 81.9176C52.7521 79.4285 56.0567 72.9776 54.3409 66.6859L52.3444 59.365L42.3638 62.0868ZM9.42824 78.934L8.79084 76.5967L13.7811 75.2358L16.3403 84.6199C14.7405 84.5026 13.2168 83.8928 11.979 82.8746C10.7411 81.8563 9.84998 80.4796 9.42824 78.934ZM49.3506 68.0468C49.7687 69.5929 49.6983 71.2307 49.1492 72.736C48.6001 74.2414 47.5989 75.5409 46.2827 76.4569L43.7229 67.0704L48.7132 65.7095L49.3506 68.0468Z" fill="url(#paint4_linear_126_87)" fill-opacity="0.4" style="mix-blend-mode:overlay"/>
                                </g>
                                <path d="M42.2602 62.1151L42.2884 62.2188L42.3921 62.1905L52.269 59.497L54.2372 66.7142C55.9385 72.9525 52.6621 79.3499 46.8613 81.8187L46.8003 81.8447L46.7961 81.9108C46.6215 84.6773 45.7023 87.3458 44.1354 89.6346C42.5685 91.9234 40.4121 93.7475 37.894 94.9142L37.8116 94.9524L37.8355 95.04L38.5762 97.756C38.9442 99.1053 39.8338 100.253 41.0493 100.946C42.2648 101.64 43.7066 101.823 45.0575 101.454L47.449 100.802L48.7515 105.578L28.9977 110.965L27.6952 106.189L30.0867 105.537C31.4376 105.168 32.5871 104.279 33.2823 103.065C33.9774 101.85 34.1613 100.41 33.7933 99.0604L33.0526 96.3443L33.0287 96.2567L32.9383 96.2657C30.1766 96.5388 27.3927 96.062 24.8808 94.8855C22.3689 93.709 20.2222 91.8766 18.6674 89.5818L18.6302 89.5269L18.5645 89.5355C12.3134 90.3534 6.24288 86.5049 4.54164 80.2666L2.57345 73.0495L12.4503 70.3559L12.554 70.3277L12.5258 70.224L11.1528 65.1896L40.8872 57.0808L42.2602 62.1151ZM9.32455 78.9623L9.32456 78.9623C9.75216 80.5294 10.6557 81.9252 11.9107 82.9576C13.1657 83.99 14.7105 84.6081 16.3324 84.727L16.4839 84.7382L16.4439 84.5916L13.8848 75.2075L13.8566 75.1038L13.7529 75.1321L8.76256 76.493L8.65887 76.5213L8.68715 76.625L9.32455 78.9623ZM49.4544 68.0187L49.4543 68.0185L48.8169 65.6812L48.7886 65.5775L48.6849 65.6058L43.6946 66.9667L43.5909 66.995L43.6192 67.0987L46.179 76.4852L46.2191 76.6322L46.3441 76.5452C47.6785 75.6165 48.6934 74.299 49.2502 72.7729C49.8069 71.2467 49.8782 69.5863 49.4544 68.0187Z" stroke="url(#paint5_linear_126_87)" stroke-width="0.214956" style="mix-blend-mode:overlay"/>
                                </g>
                                <g filter="url(#filter3_ii_126_87)">
                                <path d="M105.715 40.8346L107.123 31.8043L58.1648 21.1911L57.1025 20.7831L54.7737 20.4982L53.0909 32.6261L38.2722 26.9609L36.772 26.7073L36.3492 30.1604L33.5426 42.7566C31.8178 53.8146 38.6855 64.1852 49.1356 67.3135C49.9673 72.031 52.0591 76.4371 55.1901 80.0665C58.3211 83.6959 62.3751 86.4139 66.9238 87.9333L66.1792 92.7069C65.8169 95.0299 64.5453 97.1135 62.6443 98.4996C60.7433 99.8856 58.3685 100.46 56.0424 100.098L51.6571 99.4135L50.2908 108.172L85.3733 113.645L86.7396 104.886L82.3542 104.202C80.0281 103.839 77.9412 102.568 76.5526 100.669C75.1641 98.7699 74.5875 96.3979 74.9499 94.075L75.6945 89.3014C80.4899 89.2395 85.179 87.8853 89.2667 85.3819C93.3543 82.8785 96.6887 79.3188 98.9176 75.0788C109.824 75.2817 120.47 65.5051 122.195 54.4471L123.256 43.5708L105.715 40.8346ZM42.3132 44.1247L42.954 40.0168L51.7246 41.3849L49.152 57.8777C46.7286 56.5721 44.7697 54.5485 43.5449 52.0856C42.3202 49.6226 41.8899 46.8413 42.3132 44.1247ZM112.478 55.0693C112.049 57.7842 110.79 60.3 108.874 62.2728C106.958 64.2455 104.479 65.5789 101.775 66.0905L104.348 49.5934L113.119 50.9615L112.478 55.0693Z" fill="url(#paint6_radial_126_87)"/>
                                <path d="M105.715 40.8346L107.123 31.8043L58.1648 21.1911L57.1025 20.7831L54.7737 20.4982L53.0909 32.6261L38.2722 26.9609L36.772 26.7073L36.3492 30.1604L33.5426 42.7566C31.8178 53.8146 38.6855 64.1852 49.1356 67.3135C49.9673 72.031 52.0591 76.4371 55.1901 80.0665C58.3211 83.6959 62.3751 86.4139 66.9238 87.9333L66.1792 92.7069C65.8169 95.0299 64.5453 97.1135 62.6443 98.4996C60.7433 99.8856 58.3685 100.46 56.0424 100.098L51.6571 99.4135L50.2908 108.172L85.3733 113.645L86.7396 104.886L82.3542 104.202C80.0281 103.839 77.9412 102.568 76.5526 100.669C75.1641 98.7699 74.5875 96.3979 74.9499 94.075L75.6945 89.3014C80.4899 89.2395 85.179 87.8853 89.2667 85.3819C93.3543 82.8785 96.6887 79.3188 98.9176 75.0788C109.824 75.2817 120.47 65.5051 122.195 54.4471L123.256 43.5708L105.715 40.8346ZM42.3132 44.1247L42.954 40.0168L51.7246 41.3849L49.152 57.8777C46.7286 56.5721 44.7697 54.5485 43.5449 52.0856C42.3202 49.6226 41.8899 46.8413 42.3132 44.1247ZM112.478 55.0693C112.049 57.7842 110.79 60.3 108.874 62.2728C106.958 64.2455 104.479 65.5789 101.775 66.0905L104.348 49.5934L113.119 50.9615L112.478 55.0693Z" fill="url(#paint7_linear_126_87)" fill-opacity="0.4" style="mix-blend-mode:overlay"/>
                                </g>
                                <path d="M105.532 40.8062L105.504 40.9884L105.686 41.0168L123.055 43.7262L122.012 54.4239C121.155 59.9034 118.088 65.073 113.876 68.8484C109.663 72.6252 104.318 74.9948 98.921 74.8944L98.8073 74.8922L98.7543 74.9929C96.5409 79.2036 93.2296 82.7386 89.1703 85.2246C85.111 87.7107 80.4543 89.0555 75.6921 89.117L75.5362 89.119L75.5122 89.273L74.7676 94.0465C74.3977 96.4179 74.9863 98.8393 76.4038 100.778C77.8212 102.717 79.9515 104.014 82.3258 104.384L86.5289 105.04L85.2195 113.434L50.5015 108.018L51.8109 99.6242L56.014 100.28C58.3883 100.65 60.8124 100.063 62.753 98.6486C64.6935 97.2337 65.9916 95.1067 66.3615 92.7353L67.1061 87.9618L67.1301 87.8078L66.9823 87.7584C62.465 86.2494 58.4391 83.5503 55.3298 79.946C52.2205 76.3418 50.1432 71.9662 49.3172 67.2815L49.2975 67.1695L49.1885 67.1369C38.8258 64.0347 32.0171 53.7527 33.724 42.7909L36.5292 30.2005L36.5312 30.1918L36.5323 30.1828L36.9316 26.9213L38.2234 27.1397L53.025 32.7984L53.2417 32.8812L53.2736 32.6515L54.9315 20.7034L57.0576 20.9634L58.0987 21.3633L58.1119 21.3683L58.1258 21.3713L106.914 31.9477L105.532 40.8062ZM42.9824 39.8346L42.8002 39.8061L42.7718 39.9884L42.131 44.0963C41.7018 46.8507 42.1381 49.6705 43.3798 52.1677C44.6215 54.6648 46.6076 56.7164 49.0645 58.0401L49.2941 58.1637L49.3343 57.9061L51.9069 41.4133L51.9353 41.2311L51.7531 41.2026L42.9824 39.8346ZM112.66 55.0981L112.66 55.0978L113.301 50.9899L113.33 50.8076L113.147 50.7792L104.377 49.4111L104.195 49.3827L104.166 49.5649L101.593 66.0621L101.553 66.3204L101.809 66.2718C104.551 65.753 107.064 64.4013 109.007 62.4013C110.949 60.4013 112.225 57.8506 112.66 55.0981Z" stroke="url(#paint8_linear_126_87)" stroke-width="0.36889" style="mix-blend-mode:overlay"/>
                                <g filter="url(#filter4_ii_126_87)">
                                <path d="M106.939 37.6475L108.347 28.6172L55.7236 20.4087L54.315 29.439L36.7738 26.7028L34.7668 39.5695C33.0419 50.6275 39.9097 60.9981 50.3597 64.1264C51.1914 68.8439 53.2833 73.25 56.4143 76.8794C59.5453 80.5088 63.5992 83.2268 68.148 84.7462L67.4034 89.5198C67.0411 91.8427 65.7695 93.9264 63.8685 95.3125C61.9674 96.6985 59.5927 97.2733 57.2665 96.9105L52.8812 96.2264L51.515 104.985L86.5975 110.458L87.9637 101.699L83.5784 101.015C81.2523 100.652 79.1654 99.3811 77.7768 97.482C76.3882 95.5828 75.8117 93.2108 76.174 90.8879L76.9186 86.1143C81.7141 86.0524 86.4032 84.6982 90.4908 82.1948C94.5785 79.6914 97.9128 76.1317 100.142 71.8917C111.048 72.0946 120.748 64.3083 122.473 53.2503L124.48 40.3837L106.939 37.6475ZM43.5374 40.9376L44.1782 36.8297L52.9488 38.1978L50.3762 54.6906C47.9527 53.385 45.9938 51.3614 44.7691 48.8985C43.5444 46.4355 43.114 43.6542 43.5374 40.9376ZM113.702 51.8822C113.273 54.5971 112.014 57.1129 110.098 59.0857C108.183 61.0584 105.703 62.3918 102.999 62.9034L105.573 46.4063L114.343 47.7744L113.702 51.8822Z" fill="url(#paint9_radial_126_87)"/>
                                <path d="M106.939 37.6475L108.347 28.6172L55.7236 20.4087L54.315 29.439L36.7738 26.7028L34.7668 39.5695C33.0419 50.6275 39.9097 60.9981 50.3597 64.1264C51.1914 68.8439 53.2833 73.25 56.4143 76.8794C59.5453 80.5088 63.5992 83.2268 68.148 84.7462L67.4034 89.5198C67.0411 91.8427 65.7695 93.9264 63.8685 95.3125C61.9674 96.6985 59.5927 97.2733 57.2665 96.9105L52.8812 96.2264L51.515 104.985L86.5975 110.458L87.9637 101.699L83.5784 101.015C81.2523 100.652 79.1654 99.3811 77.7768 97.482C76.3882 95.5828 75.8117 93.2108 76.174 90.8879L76.9186 86.1143C81.7141 86.0524 86.4032 84.6982 90.4908 82.1948C94.5785 79.6914 97.9128 76.1317 100.142 71.8917C111.048 72.0946 120.748 64.3083 122.473 53.2503L124.48 40.3837L106.939 37.6475ZM43.5374 40.9376L44.1782 36.8297L52.9488 38.1978L50.3762 54.6906C47.9527 53.385 45.9938 51.3614 44.7691 48.8985C43.5444 46.4355 43.114 43.6542 43.5374 40.9376ZM113.702 51.8822C113.273 54.5971 112.014 57.1129 110.098 59.0857C108.183 61.0584 105.703 62.3918 102.999 62.9034L105.573 46.4063L114.343 47.7744L113.702 51.8822Z" fill="url(#paint10_linear_126_87)" fill-opacity="0.4" style="mix-blend-mode:overlay"/>
                                </g>
                                <path d="M106.756 37.6191L106.728 37.8013L106.91 37.8297L124.269 40.5375L122.291 53.2219C120.581 64.1859 110.962 71.9085 100.145 71.7073L100.031 71.7051L99.9785 71.8059C97.765 76.0165 94.4538 79.5515 90.3945 82.0375C86.3352 84.5236 81.6785 85.8684 76.9162 85.9299L76.7604 85.9319L76.7364 86.0859L75.9918 90.8594C75.6219 93.2308 76.2104 95.6522 77.6279 97.5908C79.0454 99.5295 81.1756 100.827 83.55 101.197L87.753 101.853L86.4437 110.247L51.7257 104.831L53.0351 96.4371L57.2381 97.0927C59.6125 97.4631 62.0366 96.8763 63.9771 95.4615C65.9177 94.0467 67.2157 91.9196 67.5856 89.5482L68.3302 84.7747L68.3543 84.6207L68.2064 84.5713C63.6891 83.0623 59.6632 80.3632 56.5539 76.7589C53.4446 73.1547 51.3673 68.7791 50.5414 64.0944L50.5216 63.9824L50.4126 63.9498C40.0481 60.847 33.2388 50.5619 34.949 39.5979L36.9276 26.9135L54.2866 29.6213L54.4688 29.6497L54.4973 29.4674L55.8774 20.6194L108.137 28.771L106.756 37.6191ZM44.2066 36.6475L44.0244 36.619L43.9959 36.8013L43.3552 40.9092C42.9259 43.6636 43.3622 46.4834 44.6039 48.9806C45.8456 51.4777 47.8317 53.5293 50.2887 54.853L50.5182 54.9766L50.5584 54.719L53.131 38.2262L53.1595 38.044L52.9772 38.0156L44.2066 36.6475ZM113.885 51.911L113.885 51.9107L114.525 47.8028L114.554 47.6205L114.372 47.5921L105.601 46.224L105.419 46.1956L105.39 46.3779L102.817 62.875L102.777 63.1333L103.033 63.0847C105.775 62.5659 108.288 61.2142 110.231 59.2142C112.173 57.2142 113.449 54.6635 113.885 51.911Z" stroke="url(#paint11_linear_126_87)" stroke-width="0.36889" style="mix-blend-mode:overlay"/>
                                <defs>
                                <filter id="filter0_f_126_87" x="1.32223" y="56.2777" width="54.2771" height="57.4769" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feGaussianBlur stdDeviation="0.33553" result="effect1_foregroundBlur_126_87"/>
                                </filter>
                                <filter id="filter1_ii_126_87" x="1.99329" y="43.1427" width="52.9349" height="86.1979" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="-15.7925"/>
                                <feGaussianBlur stdDeviation="18.9878"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
                                <feBlend mode="overlay" in2="shape" result="effect1_innerShadow_126_87"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="16.257"/>
                                <feGaussianBlur stdDeviation="10.0097"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
                                <feBlend mode="overlay" in2="effect1_innerShadow_126_87" result="effect2_innerShadow_126_87"/>
                                </filter>
                                <filter id="filter2_ii_126_87" x="2.44153" y="41.1563" width="52.3524" height="86.1979" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="-15.7925"/>
                                <feGaussianBlur stdDeviation="18.9878"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
                                <feBlend mode="overlay" in2="shape" result="effect1_innerShadow_126_87"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="16.257"/>
                                <feGaussianBlur stdDeviation="10.0097"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
                                <feBlend mode="overlay" in2="effect1_innerShadow_126_87" result="effect2_innerShadow_126_87"/>
                                </filter>
                                <filter id="filter3_ii_126_87" x="33.2776" y="-6.60362" width="89.9783" height="148.147" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="-27.1019"/>
                                <feGaussianBlur stdDeviation="32.5852"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
                                <feBlend mode="overlay" in2="shape" result="effect1_innerShadow_126_87"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="27.899"/>
                                <feGaussianBlur stdDeviation="17.1778"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
                                <feBlend mode="overlay" in2="effect1_innerShadow_126_87" result="effect2_innerShadow_126_87"/>
                                </filter>
                                <filter id="filter4_ii_126_87" x="34.5018" y="-6.69316" width="89.9781" height="145.05" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="-27.1019"/>
                                <feGaussianBlur stdDeviation="32.5852"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
                                <feBlend mode="overlay" in2="shape" result="effect1_innerShadow_126_87"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="27.899"/>
                                <feGaussianBlur stdDeviation="17.1778"/>
                                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
                                <feBlend mode="overlay" in2="effect1_innerShadow_126_87" result="effect2_innerShadow_126_87"/>
                                </filter>
                                <radialGradient id="paint0_radial_126_87" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(39.6613 73.773) rotate(112.771) scale(35.9444 30.8495)">
                                <stop offset="0.169422" stop-color="#172477"/>
                                <stop offset="1" stop-color="#2C3876"/>
                                </radialGradient>
                                <linearGradient id="paint1_linear_126_87" x1="30.8757" y1="99.8267" x2="47.21" y2="73.1356" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white" stop-opacity="0"/>
                                <stop offset="0.58324" stop-color="white"/>
                                <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="paint2_linear_126_87" x1="16.1473" y1="64.751" x2="43.2418" y2="92.8325" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white"/>
                                <stop offset="1" stop-color="#999999" stop-opacity="0"/>
                                </linearGradient>
                                <radialGradient id="paint3_radial_126_87" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(39.5536 71.7865) rotate(112.771) scale(35.9444 30.8495)">
                                <stop offset="0.169422" stop-color="#2F4BFF"/>
                                <stop offset="1" stop-color="#758CFF"/>
                                </radialGradient>
                                <linearGradient id="paint4_linear_126_87" x1="30.7679" y1="97.8403" x2="47.1022" y2="71.1492" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white" stop-opacity="0"/>
                                <stop offset="0.58324" stop-color="white"/>
                                <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="paint5_linear_126_87" x1="16.0396" y1="62.7646" x2="43.134" y2="90.846" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white"/>
                                <stop offset="1" stop-color="#999999" stop-opacity="0"/>
                                </linearGradient>
                                <radialGradient id="paint6_radial_126_87" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(94.5106 54.0562) rotate(136.891) scale(61.6848 52.9413)">
                                <stop offset="0.169422" stop-color="#172477"/>
                                <stop offset="1" stop-color="#2C3876"/>
                                </radialGradient>
                                <linearGradient id="paint7_linear_126_87" x1="62.4785" y1="88.7026" x2="106.781" y2="58.3518" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white" stop-opacity="0"/>
                                <stop offset="0.58324" stop-color="white"/>
                                <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="paint8_linear_126_87" x1="64.008" y1="23.4352" x2="86.7524" y2="86.4198" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white"/>
                                <stop offset="1" stop-color="#999999" stop-opacity="0"/>
                                </linearGradient>
                                <radialGradient id="paint9_radial_126_87" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(95.7348 50.8691) rotate(136.891) scale(61.6848 52.9413)">
                                <stop offset="0.169422" stop-color="#2F4BFF"/>
                                <stop offset="1" stop-color="#758CFF"/>
                                </radialGradient>
                                <linearGradient id="paint10_linear_126_87" x1="63.7027" y1="85.5155" x2="108.005" y2="55.1647" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white" stop-opacity="0"/>
                                <stop offset="0.58324" stop-color="white"/>
                                <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="paint11_linear_126_87" x1="65.2321" y1="20.2481" x2="87.9766" y2="83.2327" gradientUnits="userSpaceOnUse">
                                <stop stop-color="white"/>
                                <stop offset="1" stop-color="#999999" stop-opacity="0"/>
                                </linearGradient>
                                </defs>
                            </svg>                                
                        </div>
                    </div>
                    <div class="change_win">
                        {% for bet in bets %}
                            <div id="user-{{bet.user.id}}" class="box" data-value="{{bet.deposit}}"></div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div id="wrap" class="wrap">
                <div class="toggle"></div>
                <div class="canvas-label">
                    <div></div>
                    <div>Решаем исход...</div>
                </div>
                <div id="container">
                    <canvas id="myChart">
    
                    </canvas>
                </div>
            </div>
            <div id="winner-jackpot" class="get_bet">
                <p>Победитель джекпота</p>
                <div id="user-winner-cart" class="user-card">
                    <div class="user-photo">
                        <img src="{{winner_bet.user.image.url}}" alt="user-{{winner_bet.user.id}}-avatar">
                    </div>
                    <div class="user-info">
                        <p class="user-title">@{{winner_bet.user.nickname}}</p>
                        <p class="user-range">Сумма ставки: $<span>{{winner_bet.deposit}}</span></p>
                    </div>
                </div>
            </div>
            <p>Участники джекпота</p>
            <div class="users_list">
                {% for bet in bets %}
                    {% include "jackpots/includes/user_div.html" %}                
                {% endfor %}
            </div>
        </div>
    </div>
    <footer>
    </footer>
    <div class="bottom_bar_position">
        <div class="bottom_bar">
            <div class="center_items">
                <div class="menu_items">
                    <a href="{% url 'users:games' %}" class="games keyboard">
                        <svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g filter="url(#filter0_i_0_115)">
                            <path d="M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5H14C18.1423 15.5 21.5 12.1423 21.5 8C21.5 3.85775 18.1423 0.5 14 0.5H8ZM15.5 10.25C15.5 10.6478 15.342 11.0294 15.0607 11.3107C14.7794 11.592 14.3978 11.75 14 11.75C13.6022 11.75 13.2206 11.592 12.9393 11.3107C12.658 11.0294 12.5 10.6478 12.5 10.25C12.5 9.85218 12.658 9.47064 12.9393 9.18934C13.2206 8.90804 13.6022 8.75 14 8.75C14.3978 8.75 14.7794 8.90804 15.0607 9.18934C15.342 9.47064 15.5 9.85218 15.5 10.25ZM15.5 7.25C15.1022 7.25 14.7206 7.09196 14.4393 6.81066C14.158 6.52936 14 6.14782 14 5.75C14 5.35218 14.158 4.97064 14.4393 4.68934C14.7206 4.40804 15.1022 4.25 15.5 4.25C15.8978 4.25 16.2794 4.40804 16.5607 4.68934C16.842 4.97064 17 5.35218 17 5.75C17 6.14782 16.842 6.52936 16.5607 6.81066C16.2794 7.09196 15.8978 7.25 15.5 7.25ZM6.5 5C6.69891 5 6.88968 5.07902 7.03033 5.21967C7.17098 5.36032 7.25 5.55109 7.25 5.75V7.25H8.75C8.94891 7.25 9.13968 7.32902 9.28033 7.46967C9.42098 7.61032 9.5 7.80109 9.5 8C9.5 8.19891 9.42098 8.38968 9.28033 8.53033C9.13968 8.67098 8.94891 8.75 8.75 8.75H7.25V10.25C7.25 10.4489 7.17098 10.6397 7.03033 10.7803C6.88968 10.921 6.69891 11 6.5 11C6.30109 11 6.11032 10.921 5.96967 10.7803C5.82902 10.6397 5.75 10.4489 5.75 10.25V8.75H4.25C4.05109 8.75 3.86032 8.67098 3.71967 8.53033C3.57902 8.38968 3.5 8.19891 3.5 8C3.5 7.80109 3.57902 7.61032 3.71967 7.46967C3.86032 7.32902 4.05109 7.25 4.25 7.25H5.75V5.75C5.75 5.55109 5.82902 5.36032 5.96967 5.21967C6.11032 5.07902 6.30109 5 6.5 5Z" fill="url(#paint0_linear_0_115)"/>
                            </g>
                            <defs>
                            <filter id="filter0_i_0_115" x="0.5" y="-0.5" width="21" height="16" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feOffset dy="-1"/>
                            <feGaussianBlur stdDeviation="0.85"/>
                            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.69 0"/>
                            <feBlend mode="overlay" in2="shape" result="effect1_innerShadow_0_115"/>
                            </filter>
                            <linearGradient id="paint0_linear_0_115" x1="10.5197" y1="6.02435" x2="11" y2="22" gradientUnits="userSpaceOnUse">
                            <stop stop-color="white"/>
                            <stop offset="1" stop-color="#1271FF"/>
                            </linearGradient>
                            </defs>
                        </svg>
                    </a>
                    <a href="{% url 'users:profile' %}">
                        <div class="profile keyboard">
                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19.1555 19.9811C19.816 19.8325 20.2108 19.086 19.8818 18.4479C19.1567 17.044 18.0153 15.8092 16.5555 14.8689C14.6747 13.6574 12.369 13 10 13C7.63096 13 5.32533 13.6561 3.44446 14.8689C1.98475 15.8092 0.843301 17.044 0.118231 18.4479C-0.210802 19.086 0.184038 19.8325 0.844498 19.9811C6.88289 21.3396 13.1159 21.3396 19.1543 19.9811" fill="#3D404F"/>
                                <path d="M10 12C13.3137 12 16 9.31371 16 6C16 2.68629 13.3137 0 10 0C6.68629 0 4 2.68629 4 6C4 9.31371 6.68629 12 10 12Z" fill="#3D404F"/>
                            </svg>                       
                        </div>
                    </a>
                    <a href="{% url 'users:settings' %}">
                        <div class="settings keyboard">
                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2791 0.152C10.9091 -4.47035e-08 10.4391 0 9.50007 0C8.56107 0 8.09207 -4.47035e-08 7.72107 0.152C7.47696 0.251745 7.25498 0.398782 7.06792 0.584647C6.88085 0.770512 6.73239 0.991536 6.63107 1.235C6.53707 1.458 6.50107 1.719 6.48607 2.098C6.47893 2.3725 6.40214 2.64068 6.2629 2.87736C6.12366 3.11403 5.92654 3.31142 5.69007 3.451C5.44882 3.5851 5.17762 3.65615 4.9016 3.65754C4.62558 3.65894 4.35367 3.59065 4.11107 3.459C3.77307 3.281 3.52807 3.183 3.28607 3.151C2.75665 3.08192 2.22134 3.2242 1.79607 3.547C1.47807 3.789 1.24307 4.193 0.774071 5C0.304071 5.807 0.0700714 6.21 0.0170714 6.605C-0.0529286 7.131 0.0910715 7.663 0.417071 8.084C0.565071 8.276 0.774072 8.437 1.09707 8.639C1.57407 8.936 1.88007 9.442 1.88007 10C1.88007 10.558 1.57407 11.064 1.09807 11.36C0.774071 11.563 0.565071 11.724 0.416071 11.916C0.255638 12.1242 0.137821 12.362 0.0693571 12.6158C0.000893369 12.8696 -0.0168739 13.1343 0.0170714 13.395C0.0700714 13.789 0.304071 14.193 0.774071 15C1.24407 15.807 1.47807 16.21 1.79607 16.453C2.22007 16.776 2.75607 16.918 3.28607 16.849C3.52807 16.817 3.77307 16.719 4.11107 16.541C4.3538 16.4092 4.62589 16.3408 4.9021 16.3422C5.17831 16.3436 5.44969 16.4147 5.69107 16.549C6.17707 16.829 6.46507 17.344 6.48607 17.902C6.50107 18.282 6.53707 18.542 6.63107 18.765C6.83507 19.255 7.22707 19.645 7.72107 19.848C8.09107 20 8.56107 20 9.50007 20C10.4391 20 10.9091 20 11.2791 19.848C11.5232 19.7483 11.7452 19.6012 11.9322 19.4154C12.1193 19.2295 12.2678 19.0085 12.3691 18.765C12.4631 18.542 12.4991 18.282 12.5141 17.902C12.5341 17.344 12.8231 16.828 13.3101 16.549C13.5513 16.4149 13.8225 16.3439 14.0985 16.3425C14.3746 16.3411 14.6465 16.4093 14.8891 16.541C15.2271 16.719 15.4721 16.817 15.7141 16.849C16.2441 16.919 16.7801 16.776 17.2041 16.453C17.5221 16.211 17.7571 15.807 18.2261 15C18.6961 14.193 18.9301 13.79 18.9831 13.395C19.0169 13.1343 18.9989 12.8695 18.9303 12.6157C18.8617 12.3619 18.7437 12.1241 18.5831 11.916C18.4351 11.724 18.2261 11.563 17.9031 11.361C17.4261 11.064 17.1201 10.558 17.1201 10C17.1201 9.442 17.4261 8.936 17.9021 8.64C18.2261 8.437 18.4351 8.276 18.5841 8.084C18.7445 7.87579 18.8623 7.63799 18.9308 7.38422C18.9992 7.13044 19.017 6.86565 18.9831 6.605C18.9301 6.211 18.6961 5.807 18.2261 5C17.7561 4.193 17.5221 3.79 17.2041 3.547C16.7788 3.2242 16.2435 3.08192 15.7141 3.151C15.4721 3.183 15.2271 3.281 14.8891 3.459C14.6463 3.59083 14.3743 3.65922 14.098 3.65782C13.8218 3.65642 13.5504 3.58528 13.3091 3.451C13.0728 3.3113 12.8759 3.11385 12.7368 2.87719C12.5977 2.64052 12.5211 2.37241 12.5141 2.098C12.4991 1.718 12.4631 1.458 12.3691 1.235C12.2678 0.991536 12.1193 0.770512 11.9322 0.584647C11.7452 0.398782 11.5232 0.251745 11.2791 0.152ZM9.50007 13C11.1701 13 12.5231 11.657 12.5231 10C12.5231 8.343 11.1691 7 9.50007 7C7.83107 7 6.47707 8.343 6.47707 10C6.47707 11.657 7.83107 13 9.50007 13Z" fill="#3D404F"/>
                            </svg>                 
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script>
        setTimeout(function() { window.location.reload(true); }, {{refresh_time}});

        const container = document.getElementById('container');
        const boxes = document.querySelectorAll('.box');
        const colors = [];
        const total_data = []

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function updateBoxes() {
            let totalValue = 0;

            boxes.forEach((box, index) => {
                total_data[index] = parseInt(box.dataset.value);
                totalValue += parseInt(box.dataset.value);
                if (!colors[index]) {
                    colors[index] = getRandomColor();
                }
            });

            boxes.forEach((box, index) => {
                const boxValue = parseInt(box.dataset.value);
                const widthPercentage = (totalValue > 0) ? (boxValue / totalValue) * 100 : 0;
                box.style.width = widthPercentage + '%';
                box.style.backgroundColor = colors[index];
                document.getElementById(box.id + '-cart').querySelector('.dot').style.backgroundColor = colors[index];
            });
        }

        updateBoxes();

        const cont = document.getElementById('container')
        const ctx = document.getElementById('myChart');
        const myDoughnutChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                datasets: [{
                    data: total_data,
                    backgroundColor: colors,
                    borderWidth: 0,
                }],
            },
            options: {
                responsive: true,
                animation: false, 
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(tooltipItem) {
                                return tooltipItem.label + ': ' + tooltipItem.raw;
                            }
                        }
                    }
                }
            }
        });

        let angle = 0;
        let speed = 10;
        function rotateChart() {
            angle += speed;
            cont.style.transform = `rotate(${angle}deg)`;
            if (speed > 2) {
                speed -= 0.03;
            }
            requestAnimationFrame(rotateChart); 
        }

        rotateChart(); 

        let wrap = document.getElementById('wrap');
        let winner_jackpot = document.getElementById("winner-jackpot");

        setTimeout( function () {
            var ctr = 0;

            fadeout();
            window.setTimeout(function(){
                wrap.style.display = 'none';
            },100); // time this to fit the animation
            
            function fadeout(){
                wrap.style.opacity = 1 - ('0.'+ctr);
                wrap.style.transform = 'scale('+(1 - ('0.'+ctr))+')';
                ctr++;
                
                if (ctr < 10) {
                    requestAnimationFrame(fadeout);
                } else {
                    ctr = 0;
                }
            }
        }, 5000)

        setTimeout( function () {
            var ctr = 0;

            window.setTimeout(function(){
                winner_jackpot.style.display = 'block';
            fadein();
            },0); // do this asap 
        
            function fadein(){
                winner_jackpot.style.opacity = ctr !== 10 ? '0.'+ctr : 1;
                winner_jackpot.style.transform = ctr !== 10 ? 'scale('+('0.'+ctr)+')' : 'scale(1)';
                ctr++;
                
                if (ctr < 11)
                requestAnimationFrame(fadein);
                
                else
                ctr = 0;
            }
        }, 5100)
            
    </script>
{% endblock content %}
