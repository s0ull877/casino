<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css\reset.css">
    <link rel="stylesheet" href="css\auctions.css">
    <link rel="stylesheet" href="css\auction.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <div style="background-color: white; height: 380px;" class="fixed-head">
        <header class="header space-between">
            <div>
                <p>Аукцион</p>
                <p><span id="auction-members">10</span>/20</p>
            </div>
            <div>
                Время на ставку:&nbsp<span id="progressbar1-time"></span>
            </div>
        </header>
        <div style="background-color: rgba(128, 128, 128, 0.119);">
            <div class="progressbar" id="progressbar1">
                <div class="progressbar-inner"></div>
            </div>
        </div>
        <div class="content">
            <div class="main-auction">
                <div class="auction-item">
                    <div class="space-between">
                        <div class="main-data">
                            <h2>Аукцион №1</h2>
                            <div class="auction-members">
                                <span class="gray">Участников </span>10/20
                            </div>
                        </div>
                        <div class="main-img">
                            <p>
                                <img height="100%" src="img\arrow-right-big.svg" alt="main-auction-photo">
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="auction-item">
                <div class="special-inner">
                    <h1>Текущий лидер</h1>
                    <div><span id="leader-bet">$500,00</span> @<span id="leader-nickname">nickname</span></div>
                    <div class="bank">Общий банк: <span id="common-bank">$2.000,00</span></div>
                    <div class="bet-time">     
                        Время на ставку: <span id="progressbar2-time"></span>
                    </div>
                    <div style="background-color: rgba(128, 128, 128, 0.119);">
                        <div class="progressbar" id="progressbar2">
                            <div class="progressbar-inner"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="padding-bottom: 10px;" class="gray auctions-title">Участники аукциона</div>
        </div>
    </div>
    <div class="content-wrapper">
        <div class="users-list">
            <div class="user-item">
                <div class="user-image">
                    <img src="img/avatar.jpg" alt="user-image">
                </div>
                <div class="user-data">
                    <div class="user-nickname">Никнейм</div>
                    <div class="user-bet">Сумма ставки:&nbsp$<span>500</span></div>
                </div>
            </div>
            <div class="user-item">
                <div class="user-image">
                    <img src="img/avatar.jpg" alt="user-image">
                </div>
                <div class="user-data">
                    <div class="user-nickname">Никнейм</div>
                    <div class="user-bet">Сумма ставки:&nbsp$<span>500</span></div>
                </div>
            </div>
        </div>
        <div class="create-bet">
            <div class="user-bet space-between">
                <p>Сумма ставки</p>
                <p>Max:&nbsp$<span id="user-ballance"><span>1000</p>
            </div>
            <div>
                <div class="bet-input">
                    <input placeholder="Введите ставку" type="text" name="bet-sum" id="bet-sum">
                </div>
                <button onclick="userBet()" class="bet-btn">
                    Сделать ставку
                </button>
            </div>
        </div>
    </div>
    <script>

        function userBet() {
            
        }

        function progressBar(s) {

            let i = s
            let inteval = setInterval(function() {
                
                i -= 1;
                document.getElementById('progressbar1').style.width = `${(100 * i) / s}%`;
                document.getElementById('progressbar2').style.width = `${(100 * i) / s}%`;
                document.getElementById('progressbar1-time').innerHTML = `${Math.floor(i%s /60)}:${i%60 < 10 ? '0' : ''}${i%60}`;
                document.getElementById('progressbar2-time').innerHTML = `${Math.floor(i%s /60)}:${i%60 < 10 ? '0' : ''}${i%60}`;

                if (i == 0) {
                    clearInterval(inteval)
                    alert('Победа')
                    // победитель определен
                }

            }, 1010)
            
        }

        progressBar(120)

    </script>
</body>
</html>